Данный тестовый фреймворк написан по тестовому заданию Филатовым Александром.

Задача: покрыть тестами java-приложение.
Тестируемое приложение - классический веб-сервис на Spring Boot.
Предполагается, что отчет автотестов будет читать человек, не связанный с программированием. 

У тестируемого приложения только один эндпоинт, который принимает на вход POST-запросы вида:
```
POST http://localhost:8080/endpoint
Content-Type: application/x-www-form-urlencoded
Accept: application/json
X-Api-Key: qazWSXedc

token=${token}&action=${action}
```
Для доступа к эндпоинту требуется заголовок `X-Api-Key`.  
Это статический API-ключ, который проверяется приложением при каждом запросе.

token - строка длиной 32 символа, состоящая только из символов A-F0-9
action - действие пользователя. Всего их три:
* LOGIN - аутентификация. Триггерит отправку запроса /auth на внешний сервис. В случае успеха токен сохраняется во внутреннем хранилище
* ACTION - действие. Триггерит отправку запроса /doAction на внешний сервис. Доступно только для токенов, ранее прошедших LOGIN
* LOGOUT - завершение сессии юзера. Удаляет токен из внутреннего хранилища

В ответ приходит json.
* Тело успешного ответа:
```json
{
  "result": "OK"
}
```

* Тело неуспешного ответа:
```json
{
  "result": "ERROR",
  "message": "reason"
}
```

### Эндпоинты внешнего сервиса
У внешнего сервиса только два эндпоинта. На них отправляет запросы тестируемое приложение.
Оба могут возвращать любое тело ответа, тестируемое приложение смотрит только на код.

Примеры запросов от тестируемого приложения:
#### /auth
```
POST ${mock}/auth
Content-Type: application/x-www-form-urlencoded
Accept: application/json

token=${token}
```

#### /doAction
```
POST ${mock}/doAction
Content-Type: application/x-www-form-urlencoded
Accept: application/json

token=${token}
```



**Особенности тестового фреймворка:**
1) http-запросы написаны через общий класс httpCore, построенном на RestAssured с помощью RequestSpecification. В папке services лежат уже запросы по конкретным микросервисам (в данном случае у нас один микросервис CommonService.
2) В папке WireMock находятся классы, относящиеся к заглушкам (управление, используемые переменные и тд). Запуск мок-сервера реализован через singleton.
3) В папке validation находятся классы, относящиеся к проверкам ответов на http-запросы, в частности базовый класс и класс к нашему сервису.
4) Тесты находятся в папке Snapshot_0_0_1, разделены на классы по действиям.
5) К проекту подключен Allure для генерации и просмотра отчетов по тестам (подробные отчеты с шагами воспроизведения и с вложениями с тестовыми данными, запросом и ответом). Скрины с примерами отчетов находятся в разделе Release данного репозитория.
